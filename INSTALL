インストール方法

Starbug1は、sqlite3、cgicを使用しています。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 

sqlite3のインストール

OSに、sqlite3がインストールされている場合(libsqlite3.so, sqlite3.hが存在する場
合)は、sqlite3のインストールは不要です。

 ・ http://www.sqlite.org/ から、 sqlite-3.5.4.tar.gz をダウンロードする。
   
    $ wget http://www.sqlite.org/sqlite-3.5.4.tar.gz
    
 ・ 適当な場所に展開し、コンパイル、インストールする。
   
    $ tar zxf sqlite-3.5.4.tar.gz
    $ mkdir bld
    $ cd bld
    $ ../sqlite-3-5-4/configure --disable-tcl
    $ make
    $ su
    # make install
    

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 

cgicのインストール

OSに、cgicl205以上がインストールされている場合は、cgicのインストールは不要です
。

 ・ http://www.boutell.com/cgic/ から cgic205.tar.gz をダウンロードする。
   
    $ wget http://www.boutell.com/cgic/cgic205.tar.gz
    
 ・ 適当な場所に展開し、コンパイル、インストールする。
   
    $ tar zxf cgic205.tar.gz
    $ cd cgic205
    $ make
    $ su
    # make install
    

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 

Starbug1のインストール

 ・ ソースを取得する。
     □ Downloadから最新ソースを取得する。https://sourceforge.jp/projects/
        starbug1/
     □ 上から取得できない場合や、リポジトリにアクセスしたい場合は、、cvsリポジ
        トリからソースを取得する。
       
        $ cvs -d:pserver:anonymous@cvs.sourceforge.jp:/cvsroot/starbug1 login
        Password:  (そのままEnterキーを押してください)
        $ cvs -d:pserver:anonymous@cvs.sourceforge.jp:/cvsroot/starbug1 checkout starbug1
        

 ・ コンパイル
   
    $ tar zxf starbug-x.x.x-alpha.tar.gz
    $ cd starbug1
    $ gmake
    $ gmake webapp
    

dist/starbug1 ディレクトリに、webアプリ一式が生成されます。

Starbug1の配置

 ・ Webサーバ(動作確認しているのはapache)のDocumentRoot配下に dist/starbug1 デ
    ィレクトリを配置します。
   
    $ su
    # cp -r dist/starbug1 /home/httpd/html
    
 ・ dist/starbug1 配下をcgi実行ユーザの権限に変更します。
   
    # cd /home/httpd/html
    # chown -R apache:apache starbug1
    
 ・ .htaccessを適切に編集します。
   
    # cat .htaccess
    ErrorDocument 500 /starbug1/error.html
    DirectoryIndex index.cgi
    Options +ExecCGI
    AuthUserFile /etc/starbug1/.htpasswd
    AuthGroupFile /dev/null
    AuthName "Please enter your ID and password"
    AuthType Basic
    Require valid-user
    

上の例では、エラーページの指定とbasic認証の設定を行なっています。basic認証を使
用する場合、htpasswdなどでパスワードファイルへのユーザの登録を行なってください
。httpd.confを編集できる場合は、同等の設定を、httpd.confで行なう方が望ましいで
す。

 ・ http://(server_name)/starbug1/ にアクセスします。

トップ画面が表示されれば、インストール成功です。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 

うまく動かない場合

 ・ インストール完了したが、ブラウザで http://(server_name)/starbug1/ にアクセ
    スするとエラーが発生し、Webサーバのエラーログに、「Premature end of script
    headers: index.cgi」のようなメッセージが出力される。
     □ CGIを実行する権限があるか確認してください。以下のような簡単なperlのcgi
        スクリプトをstarbug1ディレクトリに配置し実行権限を付加して動作するかど
        うか確認しすることで、CGI自体が有効になっているかどうかを確認できます。
       
        #!/usr/bin/perl
        print "Content-Type: text/plain;\n\nhello.";
        
     □ Webサーバプロセスユーザが、starbug1ディレクトリに書き込み権限があるか確
        認してください。データベースファイルを格納するために、Webサーバプロセス
        ユーザがstarbug1ディレクトリに書き込み可能となっている必要があります。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 
